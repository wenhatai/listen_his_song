<?php

class Conn{
	public static $address = "localhost";
	public static $username = "root";
	public static $password = "111111";
	public static $schema = "listen_his_songs";
	public static $port = 3306;
	protected $mysqli;
	
	// 构造函数
	function __construct(){
		$this->mysqli = new mysqli(Conn::$address, Conn::$username, Conn::$password, Conn::$schema, Conn::$port);
		if($this->mysqli->connect_errno){
			echo "Connect failed:%s\n".$this->mysqli->connect_error();
			exit();
		}
		$this->mysqli->query("set names utf8");
		//$this->mysqli->query("set character_set_results=GBK");
	}
	
	// 析构函数
	function __destruct(){
		if($this->mysqli){
			$this->mysqli->close();
		}
	}
}
?>